package com.example.demo.service;



import org.springframework.stereotype.Component;
import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.Random;

@Component
public class IdGenerator {
    private final Random random = new Random();

    public String generateAccountNumber(String holderName) {
        String initials = holderName.replaceAll("[^A-Za-z]", "").strip();
        initials = initials.length() >= 3 ? initials.substring(0,3).toUpperCase() : initials.toUpperCase();
        int rnd = 1000 + random.nextInt(9000);
        return initials + rnd;
    }

    public String generateTransactionId() {
        String date = LocalDate.now().format(DateTimeFormatter.BASIC_ISO_DATE); // e.g., 20251107
        int rnd = 100 + random.nextInt(900);
        return "TXN-" + date + "-" + rnd;
    }
}
